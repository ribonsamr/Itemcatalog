{% extends "base.html" %}
{% block head %}
<script src="https://apis.google.com/js/platform.js" async defer></script>
<meta name="google-signin-client_id" content="957567508066-ju7cas7bvc93aqbpmr717gcpljojj070.apps.googleusercontent.com">
<meta name="google-signin-scope" content="profile email">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='login.js') }}"></script>
</script>
{% endblock %}
{% block content %}
  <form class='center' action="{{ url_for('login') }}" method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <input type="username" name="username" placeholder="Username">
    <input type="password" name="password" placeholder="Password">
    <button type="submit">Login</button>
  </form>
  <div class="g-signin2"
  data-display='grid'
  data-width="inherit"
  data-longtitle="true"
  data-onsuccess="onSignIn"></div>
  <a class='signout' style="display: none" href="#" onclick="signOut();">Sign out</a>
  <script type="text/javascript">
  $.ajaxSetup({
    beforeSend: function(xhr, settings) {
      var csrf_token = "{{ csrf_token() }}";
      if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {
        xhr.setRequestHeader("X-CSRFToken", csrf_token);
      }
    }
  });
  </script>
{% endblock %}
